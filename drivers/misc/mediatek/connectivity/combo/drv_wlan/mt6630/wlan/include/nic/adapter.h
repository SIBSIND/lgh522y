/*
                                                                                       
*/

/*                   
                                                                          

                                                                               
                                                                                   
*/



/*
                    
  
                        
                                                                                  
          
     
                                                                                                         
     
                                                                                     
  
                        
                                                                                  
                                         
  
                        
                                                                                  
          
     
                                                                                                 
     
                                                                                     
  
                        
                                                                                  
                               
  
                          
                                        
                               
  
                      
                                                         
                                  
                  
  
                      
                                                         
                            
                                                 
  
                        
                                                         
                                       
  
                   
                                                                             
                                                   
                                                  
  
                      
                                                         
                                      
                 
                                                            
  
                   
                                                                             
                            
  
                   
                                                                             
                                                            
                      
  
                   
                                                                             
                                   
  
                   
                                                                             
                            
  
                      
                                                             
                                                                  
  
                   
                                                                             
                                                        
  
                   
                                                                             
                                    
  
                   
                                                                             
    
  
                   
                                                                             
                                  
  
                   
                                                                             
                                          
  
                        
                                                                                         
                                     
  
                        
                                                                                         
                                  
  
                        
                                                                                         
                                  
  
                   
                                                                                              
                                        
  
                      
                                                             
                                  
                                                                
  
                      
                                                             
                                              
  
                      
                                                         
                                     
                
                   
                                
  
                      
                                                         
                                 
  
                        
                                                
    
  
                   
                                                                                     
              
  
                      
                                                             
                                                  
                                                                      
  
                   
                                                                                
    
  
                   
                                                                                
                                                                                   
  
                        
       
                  
  
                        
       
                       
  
                        
       
                                     
  
                        
       
                           
                                                      
  
                      
       
                                                               
  
                      
       
                                              
  
                   
                                                                                                                                 
                                                                                                                                    
  
                      
                                                                      
                                                                 
  
                        
       
                                       
  
                                                 
  
                        
       
                       
  
                        
       
                                                     
  
                        
       
                                
  
                        
                                                                         
                                              
  
                   
                                                                             
                                                   
  
                      
                                                                                              
                                         
  
                        
       
                                
  
                      
                                                                                            
    
  
                         
                                                                                                                    
                                  
  
                   
                                                                                                            
                                             
  
                      
                                                                           
                                     
  
                      
                                                                                                      
    
  
                        
                                                                                               
                                      
                                                           
  
                          
                                                                                  
                                   
  
                        
                                                       
                
  
                        
                                                                                                
                                                      
  
                        
                                                                              
                                                             
  
                   
                                                                                                                                                         
                                                                           
  
                   
                                                                                                                                        
                                               
                                                            
  
  
                        
                                                                                                                 
                                                               
  
                   
                                                                             
                                                             
  
                   
                                                                                    
                                                                
  
                   
                                                                                                                                    
                                                                                                                       
  
                      
                                                                                
                                          
  
                        
                                                                                               
                                                        
                                                           
  
                      
                                                                        
    
  
                        
                                                                                                                   
                                                                        
  
                   
                                                                                                                                   
                                                                
  
                        
                                                                                                                            
                                              
  
                      
                                                                                                             
    
  
                          
                                                             
                  
                                                                        
                                                                   
                                                                             
                                                       
  
                          
                                                                 
                                   
  
                          
                                                                                          
                                                                
  
                   
                                                                                                             
                                                               
                                                                          
                                                                                   
  
                      
                                                                            
                                                         
  
                        
                                        

                                              


                                   
  
                        
                                        

                                              


                                         
  
                        
                                        
                                              

                           
  
                                              
  
                   
                                                                                   
                                             
  
                   
                                                                                   
                                                                                                           
  
                      
                                                                                                        
                                              
                                          
  
                   
                                                                                                                                                                                                      
                                                                                                   
                                          
                                                                          
  
                          
                                                                                                                        
                                                             
  
                   
                                                                                                                                                         
                                               
                                                                   
                                                                                                       
                                                                           
                                            
                                                      
  
                   
                                                                                      
                                                                       
  
                   
                                                                         
                                                                         
  
                   
                                                                                 
                          
                                                                                                     
                                                         
  
                         
                                                                                                    
                                      
  
                   
                                                                                             
                                                                                
  
                   
                                                                                    
                                                                                        
  
                   
       
                                                             
  
                        
       
                                                
  
                         
       
                                                                     
  
                   
       
                                   
  
                   
       
                                                
  
                         
       
                                                 
  
                        
       
                                            
  
                          
       
                                                            
  
                      
       
                                                     
  
                         
       
                  
  
                      
       
                                   
  
                        
       
                                   
                                                                              
  
                          
       
                                 
  
                   
       
                                                                                                  
  
                   
       
                                                                   
  
                   
       
                                                                  
                                                
  
                   
  
                         
  
                        
  
                                            
  
                   
  
                                  
  
                      
  
                                                    
  
                        
  
                                                    
  
                        
  
                                        
                                      
                                         
  
                        
  
                              
                                      
  
                          
  
                                                                               
  
                   
  
                                                                               
  
                      
                                                            
                                  
  
                        
                                        
                                  
  
                      
                                                            
                                
  
                   
                                                
                                           
  
                   
                                                
                                           
  
                        
                                                    
                               
  
                        
                                        
                                 
  
                      
                                                            
                                                              
  
                   
                                                
                                                         
  
                        
                                                    
                                                                         
  
                   
                                                    
              
  
                   
                                                    
                                             
  
                   
                                                    
                      
  
                   
                                                    
                      
                                                                      
                                                           
                                         
                                          
  
                   
                                                    
                                     
  
                                                     
  
                   
                                                    
                                        
  
                   
                                                    
                               
  
                   
                                                    
                        
  
                   
                                                    
                                                            
  
                         
                                                
                                   
  
                   
                                                          
                                                
  
                   
                                                          
                                                                          
                                          
                                                         
  
                   
                                                          
                                                       
                                                  
                                                 
                                       
  
                   
                                                          
                                                           
  
                   
                                                          
                                                             
  
                   
                                                               
                                           
                                                                                          
                                                                        
                                                                               
  
                   
                                                          
                                                                                
                                   
  
                   
                                                          
                                                                                                      
  
                   
                                                          
                                                        
  
                   
                                                          
                                            
                                                                                                          
  
                   
                                                          
                                                  
  
                   
                                                          
                                                                                   
                                                                      
  
                   
                                                          
                                        
  
                   
                                                          
    
  
                   
                                                          
                                             
                                                              
                                                                                                 
                                           
  
                   
                                                          
                                                
                                                                                 
                                                      
                                                              
  
                   
                                                          
                                                     
                                                                            
                                                     
                                                                            
                           
                                                                            
                                             
                                                                            
                                         
                                                                           
                                              
                                                                           
                                                                                                
                                                                           
                        
                                                                           
                                            
                                                                           
                                           
                                                                           
                                               
                                                                           
                                                      
                                                                           
                    
  
*/

#ifndef _ADAPTER_H
#define _ADAPTER_H

/*                                                                              
                                                     
                                                                                
*/

/*                                                                              
                                                          
                                                                                
*/
#if CFG_SUPPORT_PASSPOINT
#include "hs20.h"
#endif /*                       */

/*                                                                              
                                                
                                                                                
*/

/*                                                                              
                                                 
                                                                                
*/
typedef struct _ENHANCE_MODE_DATA_STRUCT_T SDIO_CTRL_T, *P_SDIO_CTRL_T;

typedef struct _WLAN_INFO_T {
    PARAM_BSSID_EX_T                rCurrBssId;

	/*             */
    PARAM_BSSID_EX_T                arScanResult[CFG_MAX_NUM_BSS_LIST];
    PUINT_8                         apucScanResultIEs[CFG_MAX_NUM_BSS_LIST];
    UINT_32                         u4ScanResultNum;

	/*                             */
    UINT_8                          aucScanIEBuf[CFG_MAX_COMMON_IE_BUF_LEN];
    UINT_32                         u4ScanIEBufferUsage;

    OS_SYSTIME                      u4SysTime;

	/*                                   */
    UINT_16                     u2BeaconPeriod;
    UINT_16                     u2AtimWindow;

    PARAM_RATES                 eDesiredRates;
    CMD_LINK_ATTRIB             eLinkAttr;
/*                                          */
    CMD_PS_PROFILE_T         arPowerSaveMode[BSS_INFO_NUM];

	/*                   */
    ENUM_RSSI_TRIGGER_TYPE      eRssiTriggerType;
    PARAM_RSSI                  rRssiTriggerValue;

	/*                */
    ENUM_PARAM_PRIVACY_FILTER_T ePrivacyFilter;

	/*               */
    PARAM_RTS_THRESHOLD         eRtsThreshold;

	/*              */
    UINT_8                      ucNetworkType;

	/*                     */
    UINT_8                      ucNetworkTypeInUse;

} WLAN_INFO_T, *P_WLAN_INFO_T;

/*                                 */
typedef struct _CONNECTION_SETTINGS_T {

    UINT_8                          aucMacAddress[MAC_ADDR_LEN];

    UINT_8                          ucDelayTimeOfDisconnectEvent;

    BOOLEAN                         fgIsConnByBssidIssued;
    UINT_8                          aucBSSID[MAC_ADDR_LEN];

    BOOLEAN                         fgIsConnReqIssued;
    BOOLEAN                         fgIsDisconnectedByNonRequest;

    UINT_8                          ucSSIDLen;
    UINT_8                          aucSSID[ELEM_MAX_LEN_SSID];

    ENUM_PARAM_OP_MODE_T            eOPMode;

    ENUM_PARAM_CONNECTION_POLICY_T  eConnectionPolicy;

    ENUM_PARAM_AD_HOC_MODE_T        eAdHocMode;

    ENUM_PARAM_AUTH_MODE_T          eAuthMode;

    ENUM_PARAM_ENCRYPTION_STATUS_T  eEncStatus;

    BOOLEAN                         fgIsScanReqIssued;


    /*                */
    UINT_16                         u2BeaconPeriod;

    UINT_16                         u2RTSThreshold; /*                      */

    UINT_16                         u2DesiredNonHTRateSet; /*                      */

    UINT_8                          ucAdHocChannelNum; /*           */

    ENUM_BAND_T                     eAdHocBand; /*           */

    UINT_32                         u4FreqInKHz; /*                  */

    /*                                                   */
    UINT_16                         u2AtimWindow;

    /*          */
    BOOLEAN                         fgIsEnableRoaming;

    BOOLEAN                         fgIsAdHocQoSEnable;

    ENUM_PARAM_PHY_CONFIG_T         eDesiredPhyConfig;

    /*                                                    */
    UINT_16                         u2CountryCode;
    UINT_8                          uc2G4BandwidthMode; /*                    *//*          */
    UINT_8                          uc5GBandwidthMode;  /*                    *//*          */

#if CFG_SUPPORT_802_11D
    BOOLEAN                         fgMultiDomainCapabilityEnabled;
#endif				/*                     */


#if 1				/*                  */
    BOOL                            fgWapiMode;
    UINT_32                         u4WapiSelectedGroupCipher;
    UINT_32                         u4WapiSelectedPairwiseCipher;
    UINT_32                         u4WapiSelectedAKMSuite;
#endif

    /*                */
    /*                                                            */
    BOOLEAN                         fgPrivacyCheckDisable;

    /*                                                 */
    UINT_8                          bmfgApsdEnAc;

    /*                                                   */
    RSN_INFO_T                       rRsnInfo;

} CONNECTION_SETTINGS_T, *P_CONNECTION_SETTINGS_T;

struct _BSS_INFO_T {

    ENUM_NETWORK_TYPE_T     eNetworkType;

    UINT_32                 u4PrivateData;                    /*                                                     */
                                                        /*                                                          */

    ENUM_PARAM_MEDIA_STATE_T  eConnectionState;           /*                                      */
    ENUM_PARAM_MEDIA_STATE_T  eConnectionStateIndicated;  /*                                     */

    ENUM_OP_MODE_T          eCurrentOPMode;             /*                                     */
#if CFG_ENABLE_WIFI_DIRECT
    ENUM_OP_MODE_T          eIntendOPMode;
#endif

    BOOLEAN                 fgIsInUse;                  /*                            */
    BOOLEAN                 fgIsNetActive;              /*                                         */

    UINT_8                  ucBssIndex;                 /*                  */

    UINT_8                  ucReasonOfDisconnect;       /*                                */

    UINT_8                  ucSSIDLen;                  /*                */

#if CFG_ENABLE_WIFI_DIRECT
    ENUM_HIDDEN_SSID_TYPE_T eHiddenSsidType;            /*                        */
#endif

    UINT_8                  aucSSID[ELEM_MAX_LEN_SSID]; /*                       */

    UINT_8                  aucBSSID[MAC_ADDR_LEN];     /*                                 */

	UINT_8 aucOwnMacAddr[MAC_ADDR_LEN];	/*                                    */

    UINT_8                  ucOwnMacIndex;              /*                                  */

    P_STA_RECORD_T          prStaRecOfAP;               /*                                  
                                                                                                    
                                                         */
    LINK_T                  rStaRecOfClientList;        /*                                                 */

    UINT_8                  ucBMCWlanIndex;             /*                                                                     */          

    BOOLEAN                 fgTxBcKeyExist;             /*                              */
    UINT_8                  ucTxDefaultKeyID;           /*                    */

    UINT_8                  ucCurrentGtkId;             /*                          */

    UINT_16                 u2CapInfo;                  /*                  */

    UINT_16                 u2BeaconInterval;           /*                                 */


    UINT_16                 u2ATIMWindow;               /*               */

    UINT_16                 u2AssocId;                  /*                                                   
                                                         */


    UINT_8                  ucDTIMPeriod;               /*                   */

    UINT_8                  ucDTIMCount;                /*                                                       
                                                                                   
                                                         */

    UINT_8                  ucPhyTypeSet;               /*                                    
                                                                                                     
                                                         */

    UINT_8                  ucNonHTBasicPhyType;        /*                                                        */

    UINT_8                  ucConfigAdHocAPMode;        /*                                                     */

    UINT_8                  ucBeaconTimeoutCount;       /*                                                             
                                                                                       */

    BOOLEAN                 fgHoldSameBssidForIBSS;     /*                                                                           */

    BOOLEAN                 fgIsBeaconActivated;        /*                                                                 */

    P_MSDU_INFO_T           prBeacon;                   /*                                 */

    BOOLEAN                 fgIsIBSSMaster;             /*                                                               
                                                                                    */

    BOOLEAN                 fgIsShortPreambleAllowed;   /*                                                                        */
    BOOLEAN                 fgUseShortPreamble;         /*                                           */
    BOOLEAN                 fgUseShortSlotTime;         /*                                            */

    UINT_16                 u2OperationalRateSet;       /*                                     */
    UINT_16                 u2BSSBasicRateSet;          /*                               */


    UINT_8                  ucAllSupportedRatesLen;     /*                                                     */
    UINT_8                  aucAllSupportedRates[RATE_NUM_SW];

    UINT_8                  ucAssocClientCnt;           /*                                           */

    BOOLEAN                 fgIsProtection;
	BOOLEAN fgIsQBSS;	/*             *//*                                                                    
                                                                        */
    BOOLEAN                 fgIsNetAbsent;              /*                                            */

    UINT_32                 u4RsnSelectedGroupCipher;
    UINT_32                 u4RsnSelectedPairwiseCipher;
    UINT_32                 u4RsnSelectedAKMSuite;
    UINT_16                 u2RsnSelectedCapInfo;

    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    PM_PROFILE_SETUP_INFO_T rPmProfSetupInfo;


    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    UINT_8                  ucWmmParamSetCount;         /*                                                                                        */

    AC_QUE_PARMS_T          arACQueParms[WMM_AC_INDEX_NUM];

    UINT_8                  aucCWminLog2ForBcast[WMM_AC_INDEX_NUM];        /*                                      */
    UINT_8                  aucCWmaxLog2ForBcast[WMM_AC_INDEX_NUM];        /*                                      */
    AC_QUE_PARMS_T          arACQueParmsForBcast[WMM_AC_INDEX_NUM];        /*                                  */

    /*                                                                        */
	/*                                                                         */
    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    ENUM_BAND_T             eBand;
    UINT_8                  ucPrimaryChannel;
    UINT_8                  ucHtOpInfo1;
    UINT_16                 u2HtOpInfo2;
    UINT_16                 u2HtOpInfo3;
    /*                                                                        */
	/*                                                                            */
    /*                                                                        */
    /*                                                                           */
    /*                                                                        */
#if 1				/*                      */
    UINT_8                  ucVhtChannelWidth;
    UINT_8                  ucVhtChannelFrequencyS1;
    UINT_8                  ucVhtChannelFrequencyS2;
    UINT_16                 u2VhtBasicMcsSet;
#endif
    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    BOOLEAN                 fgErpProtectMode;
    ENUM_HT_PROTECT_MODE_T  eHtProtectMode;
    ENUM_GF_MODE_T          eGfOperationMode;
    ENUM_RIFS_MODE_T        eRifsOperationMode;

    BOOLEAN                 fgObssErpProtectMode;       /*         */
    ENUM_HT_PROTECT_MODE_T  eObssHtProtectMode;         /*         */
    ENUM_GF_MODE_T          eObssGfOperationMode;       /*         */
    BOOLEAN                 fgObssRifsOperationMode;    /*         */

    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    BOOLEAN                 fgAssoc40mBwAllowed;
    BOOLEAN                 fg40mBwAllowed;
    ENUM_CHNL_EXT_T         eBssSCO;    /*                    
                                                                              
                                                                        
                                         */
    UINT_8                  auc2G_20mReqChnlList[CHNL_LIST_SZ_2G + 1];
    UINT_8                  auc2G_NonHtChnlList[CHNL_LIST_SZ_2G + 1];
    UINT_8                  auc2G_PriChnlList[CHNL_LIST_SZ_2G + 1];
    UINT_8                  auc2G_SecChnlList[CHNL_LIST_SZ_2G + 1];

    UINT_8                  auc5G_20mReqChnlList[CHNL_LIST_SZ_5G + 1];
    UINT_8                  auc5G_NonHtChnlList[CHNL_LIST_SZ_5G + 1];
    UINT_8                  auc5G_PriChnlList[CHNL_LIST_SZ_5G + 1];
    UINT_8                  auc5G_SecChnlList[CHNL_LIST_SZ_5G + 1];

    TIMER_T                 rObssScanTimer;
    UINT_16                 u2ObssScanInterval;     /*                */

    BOOLEAN                 fgObssActionForcedTo20M;    /*         */
    BOOLEAN                 fgObssBeaconForcedTo20M;    /*         */

    /*                                                                        */
    /*                                                                        */
    /*                                                                        */
    UINT_16                 u2HwDefaultFixedRateCode;   /*                                             */
    UINT_16                 u2HwLPWakeupGuardTimeUsec;


    UINT_8                  ucBssFreeQuota;              /*                               */

#if CFG_ENABLE_GTK_FRAME_FILTER
    P_IPV4_NETWORK_ADDRESS_LIST prIpV4NetAddrList;
#endif	
    UINT_16                 u2DeauthReason;

#if CFG_SUPPORT_TDLS
    BOOLEAN                 fgTdlsIsProhibited;
    BOOLEAN                 fgTdlsIsChSwProhibited;
#endif
};


struct _AIS_SPECIFIC_BSS_INFO_T {
    UINT_8                  ucRoamingAuthTypes;         /*                                                       */

    BOOLEAN                 fgIsIBSSActive;

    /*                                                                                   */
    BOOLEAN                 fgCounterMeasure;
	/*                                        */ /*                                                   */

	/*                                                */
	/*                                                */

#if 0
    BOOLEAN                 fgWepWapiBcKeyExist; /*                            */
    UINT_8                  ucWepWapiBcWlanIndex; /*                        */

    BOOLEAN                 fgRsnBcKeyExist[4]; /*                                                 */
    UINT_8                  ucRsnBcWlanIndex[4]; /*                                             */
#endif

    /*                                                                               */
    BOOLEAN                 fgCheckEAPoLTxDone;

    UINT_32                 u4RsnaLastMICFailTime;

    /*                                                                   */
	/*                                   */
    TIMER_T                 rPreauthenticationTimer;

    /*                              
                                                        
                                     
                                       
                                                                 */
    TIMER_T                 rRsnaBlockTrafficTimer;
    TIMER_T                 rRsnaEAPoLReportTimeoutTimer;

    /*                                                      */
    /*                             */
    UINT_8                  aucTxMicKey[8];
    UINT_8                  aucRxMicKey[8];

    /*                       */
    /*                                                                   */
    UINT_32                 u4PmkidCandicateCount;
    PMKID_CANDICATE_T       arPmkidCandicate[CFG_MAX_PMKID_CACHE];
    UINT_32                 u4PmkidCacheCount;
    PMKID_ENTRY_T           arPmkidCache[CFG_MAX_PMKID_CACHE];
    BOOLEAN                 fgIndicatePMKID;
#if CFG_SUPPORT_802_11W
    BOOLEAN                 fgMgmtProtection;
    BOOLEAN                 fgAPApplyPmfReq;
    UINT_32                 u4SaQueryStart;
    UINT_32                 u4SaQueryCount;
    UINT_8                  ucSaQueryTimedOut;
    PUINT_8                 pucSaQueryTransId;
    TIMER_T                 rSaQueryTimer;
    BOOLEAN                 fgBipKeyInstalled;
#endif
};

struct _BOW_SPECIFIC_BSS_INFO_T {
    UINT_16                 u2Reserved; /*                              */
};

#if CFG_SLT_SUPPORT
typedef struct _SLT_INFO_T {

    P_BSS_DESC_T prPseudoBssDesc;
    UINT_16 u2SiteID;
    UINT_8 ucChannel2G4;
    UINT_8 ucChannel5G;
    BOOLEAN fgIsDUT;
    UINT_32 u4BeaconReceiveCnt;
	/*                            */
    P_STA_RECORD_T prPseudoStaRec;
} SLT_INFO_T, *P_SLT_INFO_T;
#endif

typedef struct _WLAN_TABLE_T {
    UINT_8                  ucUsed;
    UINT_8                  ucBssIndex;
    UINT_8                  ucKeyId;
    UINT_8                  ucPairwise;
    UINT_8                  aucMacAddr[MAC_ADDR_LEN];
    UINT_8                  ucStaIndex;
} WLAN_TABLE_T, *P_WLAN_TABLE_T;

#if 1				/*     */
typedef struct _HAL_WTBL_SEC_CONFIG_T  {
    BOOL                   fgRCA2;
    BOOL                   fgRV;
    BOOL                   fgIKV;
    BOOL                   fgRKV;
    BOOL                   fgRCID;
    BOOL                   fgRCA1;
    BOOL                   fgEvenPN;
    UINT_8                 ucKeyID;
    UINT_8                 ucMUARIdx;
    UINT_8                 ucCipherSuit;
} HAL_WTBL_SEC_CONFIG_T, *P_HAL_WTBL_SEC_CONFIG_T;
#endif

/*                                              
                                                                                        
*/
typedef struct _WIFI_VAR_T {
    BOOLEAN                 fgIsRadioOff;

    BOOLEAN                 fgIsEnterD3ReqIssued;

    BOOLEAN                 fgDebugCmdResp;

    CONNECTION_SETTINGS_T   rConnSettings;

    SCAN_INFO_T             rScanInfo;

#if CFG_SUPPORT_ROAMING
    ROAMING_INFO_T          rRoamingInfo;
#endif /*                     */

    AIS_FSM_INFO_T          rAisFsmInfo;

    ENUM_PWR_STATE_T        aePwrState[BSS_INFO_NUM];

    BSS_INFO_T              arBssInfoPool[BSS_INFO_NUM];

    P2P_DEV_INFO_T          rP2pDevInfo;

    AIS_SPECIFIC_BSS_INFO_T rAisSpecificBssInfo;

#if CFG_ENABLE_WIFI_DIRECT
    P_P2P_CONNECTION_SETTINGS_T prP2PConnSettings;

    P_P2P_SPECIFIC_BSS_INFO_T prP2pSpecificBssInfo;

/*                                */

    P_P2P_DEV_FSM_INFO_T prP2pDevFsmInfo;

    /*                                            */
    P_P2P_ROLE_FSM_INFO_T aprP2pRoleFsmInfo[BSS_P2P_NUM];

#endif /*                        */

#if CFG_ENABLE_BT_OVER_WIFI
    BOW_SPECIFIC_BSS_INFO_T rBowSpecificBssInfo;
    BOW_FSM_INFO_T rBowFsmInfo;
#endif /*                         */

    WLAN_TABLE_T            arWtbl[WTBL_SIZE];
#if DBG
    HAL_WTBL_SEC_CONFIG_T   arWtblCfg[WTBL_SIZE];
#endif

    DEAUTH_INFO_T           arDeauthInfo[MAX_DEAUTH_INFO_COUNT];

    /*                                  */
    UINT_8                  aucPermanentAddress[MAC_ADDR_LEN];
    UINT_8                  aucMacAddress[MAC_ADDR_LEN];
    UINT_8                  aucDeviceAddress[MAC_ADDR_LEN];
    UINT_8                  aucInterfaceAddress[MAC_ADDR_LEN];

    UINT_8                  ucAvailablePhyTypeSet;

    ENUM_PHY_TYPE_INDEX_T   eNonHTBasicPhyType2G4; /*                                     
                                                                                       
                                                    */

    ENUM_PARAM_PREAMBLE_TYPE_T  ePreambleType;
    ENUM_REGISTRY_FIXED_RATE_T  eRateSetting;

    BOOLEAN                 fgIsShortSlotTimeOptionEnable;
                            /*                                                           */

    BOOLEAN                 fgEnableJoinToHiddenSSID;
    BOOLEAN                 fgSupportWZCDisassociation;

#if CFG_SUPPORT_WFD
    WFD_CFG_SETTINGS_T rWfdConfigureSettings;
#endif

#if CFG_SLT_SUPPORT
    SLT_INFO_T      rSltInfo;
#endif

#if CFG_SUPPORT_PASSPOINT
	HS20_INFO_T 			rHS20Info;
#endif /*                       */
    UINT_8                 aucMediatekOuiIE[64]; 
    UINT_16                u2MediatekOuiIELen;

    /*                 */
    UINT_8                 ucQoS;

    UINT_8                 ucStaHt;
    UINT_8                 ucStaVht;
    UINT_8                 ucApHt;
    UINT_8                 ucApVht;
    UINT_8                 ucP2pGoHt;
    UINT_8                 ucP2pGoVht;
    UINT_8                 ucP2pGcHt;
    UINT_8                 ucP2pGcVht;
    
    UINT_8                 ucAmpduTx;
    UINT_8                 ucAmpduRx;    
    UINT_8                 ucTspec;
    UINT_8                 ucUapsd;
    UINT_8                 ucStaUapsd;
    UINT_8                 ucApUapsd;
    UINT_8                 ucP2pUapsd;

    UINT_8                 ucTxShortGI;
    UINT_8                 ucRxShortGI;    
    UINT_8                 ucTxLdpc;
    UINT_8                 ucRxLdpc;
    UINT_8                 ucTxStbc;
    UINT_8                 ucRxStbc;
    UINT_8                 ucTxGf;
    UINT_8                 ucRxGf;

    UINT_8                 ucTxopPsTx;
    UINT_8                 ucSigTaRts;
    UINT_8                 ucDynBwRts;

    UINT_8 ucStaHtBfee;
    UINT_8 ucStaVhtBfee;
    UINT_8                 ucStaBfer;       


    UINT_8                 ucApWpsMode;    
    UINT_8                 ucApChannel;

    UINT_8                 ucApSco;
    UINT_8                 ucP2pGoSco;

    UINT_8                 ucStaBandwidth;
    UINT_8                 ucSta5gBandwidth;
    UINT_8                 ucSta2gBandwidth;
    UINT_8                 ucApBandwidth;    
    UINT_8                 ucP2p5gBandwidth;
    UINT_8                 ucP2p2gBandwidth;

    UINT_8                 ucTxBaSize;
    UINT_8                 ucRxHtBaSize;
    UINT_8                 ucRxVhtBaSize;

    UINT_8                 ucStaDisconnectDetectTh;
    UINT_8                 ucApDisconnectDetectTh;
    UINT_8                 ucP2pDisconnectDetectTh;

    UINT_8                 ucThreadScheduling;
    UINT_8                 ucThreadPriority;    
    INT_8                  cThreadNice; 
    
    UINT_8                 ucTcRestrict;
    UINT_32                u4MaxTxDeQLimit;
    UINT_8                 ucAlwaysResetUsedRes;

    UINT_32                u4NetifStopTh;
    UINT_32                u4NetifStartTh;
#if CFG_AUTO_CHANNEL_SEL_SUPPORT
    PARAM_GET_CHN_LOAD	   rChnLoadInfo;
#endif
#if CFG_SUPPORT_MTK_SYNERGY
    UINT_8       	       ucMtkOui;
    UINT_32       	       u4MtkOuiCap;
    UINT_8       	       aucMtkFeature[4];
#endif    

    UINT_32                u4HifIstLoopCount;
    UINT_32                u4Rx2OsLoopCount;
    UINT_32                u4HifTxloopCount;
    UINT_32                u4TxRxLoopCount;
    UINT_32                u4TxFromOsLoopCount;

    UINT_32                au4TcPageCount[TC_NUM];
    UINT_8                 ucExtraTxDone;
    UINT_8                 ucTxDbg;
    
} WIFI_VAR_T, *P_WIFI_VAR_T;/*                    */

/*                  */
typedef struct {
    LINK_T              rLinkHead;
    OS_SYSTIME          rNextExpiredSysTime;
    KAL_WAKE_LOCK_T     rWakeLock;
    BOOLEAN             fgWakeLocked;
} ROOT_TIMER, *P_ROOT_TIMER;


/*                                  */
typedef struct {

    /*                   */
    UINT_16     u2Part1CfgOwnVersion;
    UINT_16     u2Part1CfgPeerVersion;
    UINT_16     u2Part2CfgOwnVersion;
    UINT_16     u2Part2CfgPeerVersion;

    /*          */
    UINT_16     u2FwProductID;
    UINT_16     u2FwOwnVersion;
    UINT_16     u2FwPeerVersion;

} WIFI_VER_INFO_T, *P_WIFI_VER_INFO_T;


#if CFG_ENABLE_WIFI_DIRECT
/*
                                
*/

typedef struct _P2P_FUNCTION_LINKER {
    P2P_REMOVE                                  prP2pRemove;
/*                                                                       */
/*                                                                        */
/*                                                                                   */
    P2P_GENERATE_P2P_IE              prP2pGenerateWSC_IEForBeacon;
/*                                                                                 */
/*                                                                             */
/*                                                                     */
/*                                                                     */
    P2P_NET_REGISTER                 prP2pNetRegister;
    P2P_NET_UNREGISTER               prP2pNetUnregister;
    P2P_CALCULATE_P2P_IE_LEN         prP2pCalculateP2p_IELenForAssocReq;   /*                                    */
    P2P_GENERATE_P2P_IE              prP2pGenerateP2p_IEForAssocReq;           /*                                    */
} P2P_FUNCTION_LINKER, *P_P2P_FUNCTION_LINKER;


#endif

/*
                          
                                            
 */
struct _ADAPTER_T {
    UINT_8                  ucRevID;
    BOOLEAN                 fgIsReadRevID;

    UINT_16                 u2NicOpChnlNum;

    BOOLEAN                 fgIsEnableWMM;
    BOOLEAN                 fgIsWmmAssoc; /*                                                                 */

	UINT_32 u4OsPacketFilter;	/*                          */
	BOOLEAN fgAllMulicastFilter;	/*                        */

    P_BSS_INFO_T            aprBssInfo[HW_BSSID_NUM + 1];
    P_BSS_INFO_T            prAisBssInfo;

#if CFG_TCP_IP_CHKSUM_OFFLOAD
    UINT_32                 u4CSUMFlags;
#endif /*                           */


    ENUM_BAND_T             aePreferBand[BSS_INFO_NUM];

    /*               */
    UINT_32                 u4Flags;
    UINT_32                 u4HwFlags;

    BOOLEAN                 fgIsRadioOff;

    BOOLEAN                 fgIsEnterD3ReqIssued;

    UINT_8                  aucMacAddress[MAC_ADDR_LEN];

    ENUM_PHY_TYPE_INDEX_T   eCurrentPhyType; /*                                                            */

#if CFG_COALESCING_BUFFER_SIZE || CFG_SDIO_RX_AGG
    UINT_32                 u4CoalescingBufCachedSize;
    PUINT_8                 pucCoalescingBufCached;
#endif /*                            */

    /*                                                       */
    BUF_INFO_T              rMgtBufInfo;
    BUF_INFO_T              rMsgBufInfo;
    PUINT_8                 pucMgtBufCached;
    UINT_32                 u4MgtBufCachedSize;
    UINT_8                  aucMsgBuf[MSG_BUFFER_SIZE];
#if CFG_DBG_MGT_BUF
    UINT_32                 u4MemAllocDynamicCount;     /*            */
    UINT_32                 u4MemFreeDynamicCount;      /*            */
#endif

    STA_RECORD_T            arStaRec[CFG_STA_REC_NUM];

    /*                     */
    TX_CTRL_T               rTxCtrl;
    QUE_T                   rFreeCmdList;
    CMD_INFO_T              arHifCmdDesc[CFG_TX_MAX_CMD_PKT_NUM];

    /*                     */
    RX_CTRL_T               rRxCtrl;

    /*                                          */
    TIMER_T                 rPacketDelaySetupTimer;

    P_SDIO_CTRL_T           prSDIOCtrl;

    /*                                 */
    /*                                                       */
    /*                                                           */
	UINT_8 aucIndicationEventBuffer[(CFG_MAX_PMKID_CACHE * 20) + 8];

    UINT_32                 u4IntStatus;

    ENUM_ACPI_STATE_T       rAcpiState;

    BOOLEAN                 fgIsIntEnable;
    BOOLEAN                 fgIsIntEnableWithLPOwnSet;

    BOOLEAN                 fgIsFwOwn;
    BOOLEAN                 fgWiFiInSleepyState;

    OS_SYSTIME              rLastOwnFailedLogTime;
    UINT_32                 u4OwnFailedCount;
    UINT_32                 u4OwnFailedLogCount;
    
    UINT_32                 u4PwrCtrlBlockCnt;

    QUE_T                   rPendingCmdQueue;

#if CFG_SUPPORT_MULTITHREAD
    QUE_T                   rTxCmdQueue;
    QUE_T                   rTxCmdDoneQueue;
    QUE_T                   rTxP0Queue;
    QUE_T                   rTxP1Queue;
    QUE_T                   rRxQueue;
#endif

    P_GLUE_INFO_T           prGlueInfo;

    UINT_8                  ucCmdSeqNum;
    UINT_8                  ucTxSeqNum;
    UINT_8                  aucPidPool[WTBL_SIZE];

#if 1				/*                  */
    BOOLEAN                 fgUseWapi;
#endif

    /*               */
    BOOLEAN         fgTestMode;
    BOOLEAN         fgIcapMode;

    /*                                     */
    WLAN_INFO_T     rWlanInfo;

#if CFG_ENABLE_WIFI_DIRECT
    BOOLEAN             fgIsP2PRegistered;
    ENUM_NET_REG_STATE_T rP2PNetRegState;
	/*                                       */
    P_P2P_INFO_T        prP2pInfo;
#if CFG_SUPPORT_P2P_RSSI_QUERY
    OS_SYSTIME          rP2pLinkQualityUpdateTime;
    BOOLEAN             fgIsP2pLinkQualityValid;
    EVENT_LINK_QUALITY  rP2pLinkQuality;
#endif
#endif

    /*                    */
    BOOLEAN         fgEnOnlineScan;

    /*                    */
    BOOLEAN         fgDisBcnLostDetection;

    /*             */
    PARAM_MAC_ADDRESS rMyMacAddr;

    /*                       */
    UINT_32         u4WakeupEventEnable;

    /*                 */
    EVENT_STATISTICS    rStatStruct;
    OS_SYSTIME          rStatUpdateTime;
    BOOLEAN             fgIsStatValid;

    EVENT_LINK_QUALITY  rLinkQuality;
    OS_SYSTIME          rLinkQualityUpdateTime;
    BOOLEAN             fgIsLinkQualityValid;
    OS_SYSTIME          rLinkRateUpdateTime;
    BOOLEAN             fgIsLinkRateValid;

    /*            */
    WIFI_VAR_T          rWifiVar;

    /*                                     */
    IEEE_802_11_MIB_T   rMib;

    /*                                         */
    MBOX_T arMbox[MBOX_ID_TOTAL_NUM];

    /*                                 */
    TIMER_T             rOidTimeoutTimer;
    UINT_8              ucOidTimeoutCount;

    /*                                 */
    ROOT_TIMER          rRootTimer;

    BOOLEAN             fgIsChipNoAck;

    /*                 */
    ENUM_CHNL_EXT_T             eRfSco;
    ENUM_SYS_PROTECT_MODE_T     eSysProtectMode;
    ENUM_GF_MODE_T              eSysHtGfMode;
    ENUM_RIFS_MODE_T            eSysTxRifsMode;
    ENUM_SYS_PCO_PHASE_T        eSysPcoPhase;

    P_DOMAIN_INFO_ENTRY         prDomainInfo;

    /*    */
    QUE_MGT_T                   rQM;

    CNM_INFO_T                  rCnmInfo;

    UINT_32 u4PowerMode;

    UINT_32 u4CtiaPowerMode;
    BOOLEAN fgEnCtiaPowerMode;

    UINT_32 fgEnArpFilter;

    UINT_32 u4UapsdAcBmp;

    UINT_32 u4MaxSpLen;

    UINT_32 u4PsCurrentMeasureEn;

    /*                     */
    WIFI_VER_INFO_T             rVerInfo;

    /*                         */
    BOOLEAN fgIsHw5GBandDisabled;
    BOOLEAN fgEnable5GBand;
    BOOLEAN fgIsEepromUsed;
    BOOLEAN fgIsEfuseValid;
    BOOLEAN fgIsEmbbededMacAddrValid;

    /*                            */
    INT_32  i4PendingFwdFrameCount;

#if CFG_SUPPORT_RDD_TEST_MODE
    UINT_8  ucRddStatus;
#endif

    BOOL fgDisStaAgingTimeoutDetection;

    UINT_32                 u4FwCompileFlag0;
    UINT_32                 u4FwCompileFlag1;
    UINT_32                 u4FwFeatureFlag0;
    UINT_32                 u4FwFeatureFlag1;

#if CFG_SUPPORT_CFG_FILE
    P_WLAN_CFG_T  prWlanCfg;
    WLAN_CFG_T  rWlanCfg;
#endif

#if CFG_M0VE_BA_TO_DRIVER
	TIMER_T rMqmIdleRxBaDetectionTimer;
	UINT_32 u4FlagBitmap;
#endif	
 
};				/*                   */

/*                                                                              
                                                  
                                                                                
*/

/*                                                                              
                                                   
                                                                                
*/

/*                                                                              
                                             
                                                                                
*/
/*                               */
#define IS_NET_ACTIVE(_prAdapter, _BssIndex) \
        ((_prAdapter)->aprBssInfo[(_BssIndex)]->fgIsNetActive)

/*                                */
#define IS_BSS_ACTIVE(_prBssInfo)     ((_prBssInfo)->fgIsNetActive)

#define IS_BSS_AIS(_prBssInfo) \
        ((_prBssInfo)->eNetworkType == NETWORK_TYPE_AIS)

#define IS_BSS_P2P(_prBssInfo) \
        ((_prBssInfo)->eNetworkType == NETWORK_TYPE_P2P)

#define IS_BSS_BOW(_prBssInfo) \
        ((_prBssInfo)->eNetworkType == NETWORK_TYPE_BOW)


#define SET_NET_ACTIVE(_prAdapter, _BssIndex) \
	{(_prAdapter)->aprBssInfo[(_BssIndex)]->fgIsNetActive = TRUE; }

#define UNSET_NET_ACTIVE(_prAdapter, _BssIndex) \
	{(_prAdapter)->aprBssInfo[(_BssIndex)]->fgIsNetActive = FALSE; }

#define BSS_INFO_INIT(_prAdapter, _prBssInfo) \
        {   UINT_8 _aucZeroMacAddr[] = NULL_MAC_ADDR; \
            \
            (_prBssInfo)->eConnectionState = PARAM_MEDIA_STATE_DISCONNECTED; \
            (_prBssInfo)->eConnectionStateIndicated = PARAM_MEDIA_STATE_DISCONNECTED; \
            (_prBssInfo)->eCurrentOPMode = OP_MODE_INFRASTRUCTURE; \
            (_prBssInfo)->ucReasonOfDisconnect = DISCONNECT_REASON_CODE_RESERVED; \
            COPY_MAC_ADDR((_prBssInfo)->aucBSSID, _aucZeroMacAddr); \
            LINK_INITIALIZE(&((_prBssInfo)->rStaRecOfClientList)); \
            (_prBssInfo)->fgIsBeaconActivated = FALSE; \
            (_prBssInfo)->u2HwDefaultFixedRateCode = RATE_CCK_1M_LONG; \
        }

/*                                                                            */
/*                                                                            */
/*                                                                            */
#define SET_NET_PWR_STATE_IDLE(_prAdapter, _BssIndex) \
		{_prAdapter->rWifiVar.aePwrState[(_BssIndex)] = PWR_STATE_IDLE; }

#define SET_NET_PWR_STATE_ACTIVE(_prAdapter, _BssIndex) \
		{_prAdapter->rWifiVar.aePwrState[(_BssIndex)] = PWR_STATE_ACTIVE; }

#define SET_NET_PWR_STATE_PS(_prAdapter, _BssIndex) \
		{_prAdapter->rWifiVar.aePwrState[(_BssIndex)] = PWR_STATE_PS; }

#define IS_NET_PWR_STATE_ACTIVE(_prAdapter, _BssIndex) \
                (_prAdapter->rWifiVar.aePwrState[(_BssIndex)] == PWR_STATE_ACTIVE)

#define IS_NET_PWR_STATE_IDLE(_prAdapter, _BssIndex) \
                (_prAdapter->rWifiVar.aePwrState[(_BssIndex)] == PWR_STATE_IDLE)

#define IS_SCN_PWR_STATE_ACTIVE(_prAdapter) \
                (_prAdapter->rWifiVar.rScanInfo.eScanPwrState == SCAN_PWR_STATE_ACTIVE)

#define IS_SCN_PWR_STATE_IDLE(_prAdapter) \
                (_prAdapter->rWifiVar.rScanInfo.eScanPwrState == SCAN_PWR_STATE_IDLE)


/*                                                                              
                                                            
                                                                                
*/


/*                                                                              
                                                
                                                                                
*/

#endif /*            */
